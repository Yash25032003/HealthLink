/*! ng-bootstrap-lightbox - v1.0.1 - 2017-01-16 */!function(a){"use strict";a.module("ngBootstrapLightbox",["ui.bootstrap"])}(angular),function(a){"use strict";function b(){var b=this;b._lightbox={options:{fadeDuration:.7,resizeDuration:.5,fitImageInViewPort:!0,positionFromTop:20,showImageNumberLabel:!1,alwaysShowNavOnTouchDevices:!1,wrapAround:!1,disableKeyboardNav:!1,modalTemplateUrl:"src/partials/modal.tpl.html",windowTemplateUrl:"src/partials/window.tpl.html"},modalController:function(a,b,c,d,e){a.album=c,a.currentImageIndex=d,a.options=e,a.modalInstance=b}},b.setDefaultOptions=function(c){a.extend(b._lightbox.options,c)},b.$get=["$uibModal",function(c){return{open:function(d,e,f){var g={};return a.extend(g,b._lightbox.options,f),b._lightbox.modalInstance=c.open({templateUrl:b._lightbox.options.modalTemplateUrl,windowTemplateUrl:b._lightbox.options.windowTemplateUrl,controller:["$scope","$uibModalInstance","album","currentImageIndex","options",b._lightbox.modalController],resolve:{album:function(){return d},currentImageIndex:function(){return e},options:function(){return g}}}),b._lightbox.modalInstance}}}]}a.module("ngBootstrapLightbox").provider("lightbox",b)}(angular),function(a){"use strict";function b(b,c,d,e){function f(e,f,g){function h(b){return a.element(f[0].querySelector(b))}function i(){if(!(G.album&&G.album instanceof Array&&G.album.length>0))throw new Error("No album data or album data is not correct in type");for(var a=0;a<G.album.length;a++)if(!G.album[a].src)throw new Error("One of the album data does not have source data");if(isNaN(G.currentImageIndex))throw new Error("Current image index is not a number");return G.currentImageIndex=Number(G.currentImageIndex),!0}function j(){o(),n()}function k(){e.$watch(function(){return G.album[G.currentImageIndex].src},function(){t(),l()}),e.$watch(function(){return G.album[G.currentImageIndex].caption},function(){A()})}function l(){u(),G.element.$image.bind("load",function(){d(q)})}function m(){G.options.disableKeyboardNav||D(),G.element.$image.unbind("load"),G.modalInstance.close()}function n(){var a=G.options.positionFromTop,b=0;G.element.$lightbox.css({top:a+"px",left:b+"px"})}function o(){var a=G.options.resizeDuration,b=G.options.fadeDuration;G.element.$outerContainer.css({"-webkit-transition-duration":a+"s","-transition-duration":a+"s"}),G.element.$dataContainer.css({"-webkit-animation-duration":b+"s","-animation-duration":b+"s"}),G.element.$image.css({"-webkit-animation-duration":b+"s","-animation-duration":b+"s"})}function p(a){d(function(){G.currentImageIndex=a})}function q(){G.options.disableKeyboardNav||D();var a,b,d,e,f,g;b=G.element.$image.prop("naturalWidth"),a=G.element.$image.prop("naturalHeight"),G.options.fitImageInViewPort&&(g=c.innerWidth,f=c.innerHeight,e=g-G.cssValue.containerLeftPadding-G.cssValue.containerRightPadding-20,d=f-G.cssValue.containerTopPadding-G.cssValue.containerTopPadding-120,G.element.$image.prop("naturalWidth")>e||G.element.$image.prop("naturalHeight")>d?G.element.$image.prop("naturalWidth")/e>G.element.$image.prop("naturalHeight")/d?(b=e,a=parseInt(G.element.$image.prop("naturalHeight")/(G.element.$image.prop("naturalWidth")/b),10),G.element.$image.css({width:b+"px",height:a+"px"})):(a=d,b=parseInt(G.element.$image.prop("naturalWidth")/(G.element.$image.prop("naturalHeight")/a),10),G.element.$image.css({width:b+"px",height:a+"px"})):G.element.$image.css({width:b+"px",height:a+"px"})),r(b,a)}function r(a,b){var c=G.element.$outerContainer.prop("offsetWidth"),d=G.element.$outerContainer.prop("offsetHeight"),e=a+G.cssValue.containerRightPadding+G.cssValue.containerLeftPadding,f=b+G.cssValue.containerTopPadding+G.cssValue.containerBottomPadding;c!==e||d!==f?(G.element.$outerContainer.css({width:e+"px",height:f+"px"}),G.element.$outerContainer.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(a){a.target===a.currentTarget&&s(e,f)})):s(e,f)}function s(a,b){G.element.$outerContainer.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),G.element.$dataContainer.css({width:a+"px"}),G.element.$prevLink.css({height:b+"px"}),G.element.$nextLink.css({height:b+"px"}),d(v)}function t(){G.content.src=G.album[G.currentImageIndex].src,G.element.$image.unbind("load")}function u(){G.ui.showReloader=!0,G.ui.showArrowNav=!1,G.ui.showLeftArrow=!1,G.ui.showRightArrow=!1}function v(){G.ui.showReloader=!1,w(),A(),G.options.disableKeyboardNav||C()}function w(){var a=!1;try{document.createEvent("TouchEvent"),a=!!G.options.alwaysShowNavOnTouchDevices}catch(a){}z(),G.album.length>1&&(G.options.wrapAround?(a&&(G.element.$leftArrow.css({opacity:"1"}),G.element.$rightArrow.css({opacity:"1"})),x(),y()):(G.currentImageIndex>0&&(x(),a&&G.element.$leftArrow.css({opacity:"1"})),G.currentImageIndex<G.album.length-1&&(y(),a&&G.element.$rightArrow.css({opacity:"1"}))))}function x(){G.ui.showLeftArrow=!0}function y(){G.ui.showRightArrow=!0}function z(){G.ui.showArrowNav=!0}function A(){"undefined"!=typeof G.album[G.currentImageIndex].caption&&""!==G.album[G.currentImageIndex].caption&&(G.content.caption=G.album[G.currentImageIndex].caption),G.album.length>1&&G.options.showImageNumberLabel&&(G.ui.showPageNumber=!0,G.content.pageNumber=B())}function B(){return"Image "+Number(G.currentImageIndex+1)+" of "+G.album.length}function C(){G.element.$body.bind("keyup",function(a){E(a)})}function D(){G.element.$body.unbind("keyup")}function E(a){var b=37,c=39,d=a.keyCode,e=String.fromCharCode(d).toLowerCase();"p"===e||d===b?0!==G.currentImageIndex?p(G.currentImageIndex-1):G.options.wrapAround&&G.album.length>1&&p(G.album.length-1):"n"!==e&&d!==c||(G.currentImageIndex!==G.album.length-1?p(G.currentImageIndex+1):G.options.wrapAround&&G.album.length>1&&p(0))}function F(){i()&&(j(),k())}var G=e;G.element={$lightbox:f,$overlay:h(".lightboxOverlay"),$outerContainer:h(".lb-outerContainer"),$container:h(".lb-container"),$image:f.find("img"),$body:b.find("body"),$leftArrow:h(".lb-prev"),$rightArrow:h(".lb-next"),$navArrow:h(".lb-nav"),$dataContainer:h(".lb-dataContainer"),$prevLink:h(".lb-prevLink"),$nextLink:h(".lb-nextLink")},G.ui={showReloader:!1,showLeftArrow:!1,showRightArrow:!1,showArrowNav:!1,showPageNumber:!1},G.content={src:"",caption:"",pageNumber:""},G.cssValue={containerTopPadding:parseInt(G.element.$container.css("padding-top"),10)||5,containerRightPadding:parseInt(G.element.$container.css("padding-right"),10)||5,containerBottomPadding:parseInt(G.element.$container.css("padding-bottom"),10)||5,containerLeftPadding:parseInt(G.element.$container.css("padding-left"),10)||5},G.options=G.options||{},G.album=G.album||[],G.currentImageIndex=G.currentImageIndex||null,G.modalInstance=G.modalInstance||{},G.close=function(b){(a.element(b.target).hasClass("lightbox")||a.element(b.target).hasClass("lb-loader")||a.element(b.target).hasClass("lb-close"))&&m()},G.nextImage=function(){p(G.currentImageIndex===G.album.length-1?0:G.currentImageIndex+1)},G.prevImage=function(){p(0===G.currentImageIndex?G.album.length-1:G.currentImageIndex-1)},F()}var g={restrict:"AE",replace:!0,scope:!1,template:'<div id="lightbox" class="lightbox" ng-click = "close($event)"><div class="lb-outerContainer transition" ng-swipe-left = "prevImage()" ng-swipe-right = "nextImage()"><div class="lb-container" style = "padding:4px"><img ng-src = "{{content.src}}" class="lb-image animation fadeIn" ng-show = "!ui.showReloader"><div class="lb-nav" ng-show = "ui.showArrowNav"><a class="lb-prev" ng-show = "ui.showLeftArrow" href="" ng-click = "prevImage()"></a><a class="lb-next" ng-show = "ui.showRightArrow" href="" ng-click = "nextImage()"></a></div><div class="lb-loader" ng-show = "ui.showReloader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer" ng-show = "!ui.showReloader"><div class="lb-data"><div class="lb-details"><span class="lb-caption" style="display: inline;" ng-bind = "content.caption"></span><span class="lb-number" ng-bind = "content.pageNumber"></span></div><div class="lb-closeContainer"><a class="lb-close" ng-click="close($event)"></a></div></div></div></div>',link:f};return g}a.module("ngBootstrapLightbox").directive("lightbox",["$document","$window","$timeout","$rootScope",b])}(angular),angular.module("ngBootstrapLightbox").run(["$templateCache",function(a){"use strict";a.put("src/partials/lightbox.html",'<div id="lightbox" class="lightbox" ng-click="close($event)"><div class="lb-outerContainer"><div class="lb-container"><img ng-src="{{content.src}}" class="lb-image" ng-show="!ui.showReloader"><div class="lb-nav" ng-show="!ui.showReloader && ui.showArrow"><a class="lb-prev" href=""></a> <a class="lb-next" href=""></a></div><div class="lb-loader" ng-show="ui.showReloader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption" style="display: inline"></span> <span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>'),a.put("src/partials/modal.tpl.html","<div lightbox></div>"),a.put("src/partials/window.tpl.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal" uib-modal-animation-class="fade" modal-in-class="in" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)"><div class="modal-content" uib-modal-transclude></div></div>')}]);